name: CI/CD for core app (using reusable workflow)

on: push
# on:
#   push:
#     tags:
#       - 'v*.*.*'

jobs:
  ci-cd:
    uses: PTarasyuk/GreenCityInfra/ci-cd/workflows/main.yml@main
    with:
      app_name: 'core'
      app_version: "${{ github.ref_name || 'v0.0.0' }}-${{ github.sha.slice(0, 7) }}"
      engine_type: 'java'
      engine_version: '21'
    secrets:
      GHCR_TOKEN: ${{ secrets.GHCR_TOKEN }}
